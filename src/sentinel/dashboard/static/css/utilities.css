/**
 * CSS Utility Classes
 *
 * This file contains reusable utility classes for the Developer Sentinel dashboard.
 * These are extracted from base.html for better organization and maintainability.
 *
 * CSS Variables (defined in base.html):
 * - --bg-primary: Primary background color (#1a1a2e)
 * - --bg-secondary: Secondary background color (#16213e)
 * - --text-primary: Primary text color (#eee)
 * - --text-secondary: Secondary text color (#aaa)
 * - --accent: Accent color (#0f3460)
 * - --accent-hover: Accent color with transparency for hover effects (rgba(15, 52, 96, 0.3))
 * - --success: Success state color (#00d26a)
 * - --warning: Warning state color (#f9c74f)
 * - --danger: Danger state color (#e63946)
 *
 * Accordion Component Variables:
 * - --accordion-border: Border color for accordion items
 * - --accordion-radius: Border radius for accordion items
 * - --accordion-header-bg: Background color for accordion headers
 * - --accordion-header-hover: Hover state for accordion headers
 * - --accordion-content-bg: Background color for accordion content
 * - --accordion-hover: Hover state for accordion table rows
 *
 * Usage:
 * - Apply these classes directly to HTML elements for quick styling
 * - Prefer utility classes over inline styles for consistency
 * - All variables include fallback values for graceful degradation
 * - Use BEM naming convention for component classes (Block__Element--Modifier)
 *
 * Deprecation Notice (added 2026-01-26):
 * - Legacy .toggle-slider styles deprecated, planned removal Q2 2026 (v2.0)
 */

/* =============================================================================
   TEXT UTILITIES
   Classes for text colors, sizes, weights, and other text-related styling
   ============================================================================= */

/* Text colors */
.text-primary {
    color: var(--text-primary, #eee);
}

.text-secondary {
    color: var(--text-secondary, #aaa);
}

.text-success {
    color: var(--success, #00d26a);
}

.text-warning {
    color: var(--warning, #f9c74f);
}

.text-danger {
    color: var(--danger, #e63946);
}

.text-accent {
    color: var(--accent, #0f3460);
}

/* Text sizes with color */
.text-secondary-small {
    color: var(--text-secondary, #aaa);
    font-size: 0.85em;
}

/* =============================================================================
   BACKGROUND UTILITIES
   Classes for background colors and background-related styling
   ============================================================================= */

.bg-primary {
    background-color: var(--bg-primary, #1a1a2e);
}

.bg-secondary {
    background-color: var(--bg-secondary, #16213e);
}

.bg-accent {
    background-color: var(--accent, #0f3460);
}

.bg-success {
    background-color: var(--success, #00d26a);
}

.bg-warning {
    background-color: var(--warning, #f9c74f);
}

.bg-danger {
    background-color: var(--danger, #e63946);
}

/* =============================================================================
   SPACING UTILITIES
   Classes for margins and paddings
   ============================================================================= */

/* Margin utilities */
.m-0 { margin: 0; }
.mt-0 { margin-top: 0; }
.mb-0 { margin-bottom: 0; }
.ml-0 { margin-left: 0; }
.mr-0 { margin-right: 0; }

.m-1 { margin: 0.25rem; }
.mt-1 { margin-top: 0.25rem; }
.mb-1 { margin-bottom: 0.25rem; }
.ml-1 { margin-left: 0.25rem; }
.mr-1 { margin-right: 0.25rem; }

.m-2 { margin: 0.5rem; }
.mt-2 { margin-top: 0.5rem; }
.mb-2 { margin-bottom: 0.5rem; }
.ml-2 { margin-left: 0.5rem; }
.mr-2 { margin-right: 0.5rem; }

.m-3 { margin: 1rem; }
.mt-3 { margin-top: 1rem; }
.mb-3 { margin-bottom: 1rem; }
.ml-3 { margin-left: 1rem; }
.mr-3 { margin-right: 1rem; }

.m-4 { margin: 1.5rem; }
.mt-4 { margin-top: 1.5rem; }
.mb-4 { margin-bottom: 1.5rem; }
.ml-4 { margin-left: 1.5rem; }
.mr-4 { margin-right: 1.5rem; }

.m-5 { margin: 3rem; }
.mt-5 { margin-top: 3rem; }
.mb-5 { margin-bottom: 3rem; }
.ml-5 { margin-left: 3rem; }
.mr-5 { margin-right: 3rem; }

/* Axis-specific margin utilities (horizontal and vertical)
 * Note: .mx-auto is commonly used for horizontal centering of block elements with a defined width.
 */
.mx-0 { margin-left: 0; margin-right: 0; }
.mx-1 { margin-left: 0.25rem; margin-right: 0.25rem; }
.mx-2 { margin-left: 0.5rem; margin-right: 0.5rem; }
.mx-3 { margin-left: 1rem; margin-right: 1rem; }
.mx-4 { margin-left: 1.5rem; margin-right: 1.5rem; }
.mx-5 { margin-left: 3rem; margin-right: 3rem; }
.mx-auto { margin-left: auto; margin-right: auto; }

.my-0 { margin-bottom: 0; margin-top: 0; }
.my-1 { margin-bottom: 0.25rem; margin-top: 0.25rem; }
.my-2 { margin-bottom: 0.5rem; margin-top: 0.5rem; }
.my-3 { margin-bottom: 1rem; margin-top: 1rem; }
.my-4 { margin-bottom: 1.5rem; margin-top: 1.5rem; }
.my-5 { margin-bottom: 3rem; margin-top: 3rem; }
/* Note: .my-auto has more limited use cases than .mx-auto.
 * Vertical auto margins only work for centering in specific contexts:
 * - Flex containers with flex-direction: column
 * - Grid containers
 * For standard block elements, vertical auto margins collapse to 0.
 * Use with .d-flex.flex-column or .d-grid for vertical centering.
 */
.my-auto { margin-bottom: auto; margin-top: auto; }

/* Padding utilities */
.p-0 { padding: 0; }
.pt-0 { padding-top: 0; }
.pb-0 { padding-bottom: 0; }
.pl-0 { padding-left: 0; }
.pr-0 { padding-right: 0; }

.p-1 { padding: 0.25rem; }
.pt-1 { padding-top: 0.25rem; }
.pb-1 { padding-bottom: 0.25rem; }
.pl-1 { padding-left: 0.25rem; }
.pr-1 { padding-right: 0.25rem; }

.p-2 { padding: 0.5rem; }
.pt-2 { padding-top: 0.5rem; }
.pb-2 { padding-bottom: 0.5rem; }
.pl-2 { padding-left: 0.5rem; }
.pr-2 { padding-right: 0.5rem; }

.p-3 { padding: 1rem; }
.pt-3 { padding-top: 1rem; }
.pb-3 { padding-bottom: 1rem; }
.pl-3 { padding-left: 1rem; }
.pr-3 { padding-right: 1rem; }

.p-4 { padding: 1.5rem; }
.pt-4 { padding-top: 1.5rem; }
.pb-4 { padding-bottom: 1.5rem; }
.pl-4 { padding-left: 1.5rem; }
.pr-4 { padding-right: 1.5rem; }

.p-5 { padding: 3rem; }
.pt-5 { padding-top: 3rem; }
.pb-5 { padding-bottom: 3rem; }
.pl-5 { padding-left: 3rem; }
.pr-5 { padding-right: 3rem; }

/* Axis-specific padding utilities (horizontal and vertical) */
.px-0 { padding-left: 0; padding-right: 0; }
.px-1 { padding-left: 0.25rem; padding-right: 0.25rem; }
.px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
.px-3 { padding-left: 1rem; padding-right: 1rem; }
.px-4 { padding-left: 1.5rem; padding-right: 1.5rem; }
.px-5 { padding-left: 3rem; padding-right: 3rem; }

.py-0 { padding-bottom: 0; padding-top: 0; }
.py-1 { padding-bottom: 0.25rem; padding-top: 0.25rem; }
.py-2 { padding-bottom: 0.5rem; padding-top: 0.5rem; }
.py-3 { padding-bottom: 1rem; padding-top: 1rem; }
.py-4 { padding-bottom: 1.5rem; padding-top: 1.5rem; }
.py-5 { padding-bottom: 3rem; padding-top: 3rem; }

/* =============================================================================
   CSS LOGICAL PROPERTIES (RTL/LTR Support)
   Uses margin-inline-start/end and padding-inline-start/end for proper
   bidirectional text support. These properties adapt to the document's
   writing direction (dir="ltr" or dir="rtl").

   - ms-* = margin-inline-start (left in LTR, right in RTL)
   - me-* = margin-inline-end (right in LTR, left in RTL)
   - ps-* = padding-inline-start (left in LTR, right in RTL)
   - pe-* = padding-inline-end (right in LTR, left in RTL)

   MDN Documentation:
   - CSS Logical Properties overview:
     https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_logical_properties_and_values
   - margin-inline-start:
     https://developer.mozilla.org/en-US/docs/Web/CSS/margin-inline-start
   - margin-inline-end:
     https://developer.mozilla.org/en-US/docs/Web/CSS/margin-inline-end
   - padding-inline-start:
     https://developer.mozilla.org/en-US/docs/Web/CSS/padding-inline-start
   - padding-inline-end:
     https://developer.mozilla.org/en-US/docs/Web/CSS/padding-inline-end


   -----------------------------------------------------------------------------
   RTL/LTR LAYOUT EXAMPLES
   -----------------------------------------------------------------------------

   The .ms-auto and .me-auto utilities are particularly useful for creating
   asymmetric layouts that automatically adapt to the reading direction.

   EXAMPLE 1: Push element to the end (right in LTR, left in RTL)
   -------------------------------------------------------------
   Use .ms-auto to push an element to the inline-end of its flex container.

   LTR Layout (dir="ltr"):
   ┌─────────────────────────────────────────────┐
   │ [Logo]                           [Settings] │
   │  start                              end     │
   └─────────────────────────────────────────────┘

   RTL Layout (dir="rtl"):
   ┌─────────────────────────────────────────────┐
   │ [Settings]                           [Logo] │
   │    end                              start   │
   └─────────────────────────────────────────────┘

   HTML:
     <nav class="d-flex align-center" dir="ltr">
       <div class="logo">Logo</div>
       <button class="ms-auto">Settings</button>
     </nav>

   EXAMPLE 2: Push element to the start (left in LTR, right in RTL)
   ----------------------------------------------------------------
   Use .me-auto to push subsequent elements to the inline-end.

   LTR Layout (dir="ltr"):
   ┌─────────────────────────────────────────────┐
   │ [Back]                     [Help] [Profile] │
   │  start                              end     │
   └─────────────────────────────────────────────┘

   RTL Layout (dir="rtl"):
   ┌─────────────────────────────────────────────┐
   │ [Profile] [Help]                     [Back] │
   │    end                              start   │
   └─────────────────────────────────────────────┘

   HTML:
     <header class="d-flex align-center gap-2" dir="ltr">
       <button class="me-auto">Back</button>
       <button>Help</button>
       <button>Profile</button>
     </header>

   EXAMPLE 3: Asymmetric three-column layout with centered content
   ---------------------------------------------------------------
   Combine .ms-auto and .me-auto to create complex layouts where
   one element is centered while others are pushed to the edges.

   LTR Layout (dir="ltr"):
   ┌─────────────────────────────────────────────┐
   │ [Menu]         [Page Title]        [Search] │
   │ start            center               end   │
   └─────────────────────────────────────────────┘

   RTL Layout (dir="rtl"):
   ┌─────────────────────────────────────────────┐
   │ [Search]        [Page Title]         [Menu] │
   │   end             center             start  │
   └─────────────────────────────────────────────┘

   HTML:
     <div class="d-flex align-center">
       <button>Menu</button>
       <h1 class="ms-auto me-auto">Page Title</h1>
       <input type="search" placeholder="Search">
     </div>

   EXAMPLE 4: Card with action button aligned to end
   -------------------------------------------------
   Common pattern for cards where the action should align to the
   "natural" end of the reading direction.

   LTR Layout (dir="ltr"):
   ┌─────────────────────────────────────────────┐
   │ Card Title                                  │
   │ Description text here...                    │
   │                               [Learn More →]│
   └─────────────────────────────────────────────┘

   RTL Layout (dir="rtl"):
   ┌─────────────────────────────────────────────┐
   │                                  عنوان البطاقة│
   │                           ...نص الوصف هنا   │
   │[← اقرأ المزيد]                              │
   └─────────────────────────────────────────────┘

   HTML:
     <div class="card">
       <h3>Card Title</h3>
       <p>Description text here...</p>
       <div class="d-flex">
         <a href="#" class="ms-auto">Learn More</a>
       </div>
     </div>

   KEY DIFFERENCES: .ms-auto/.me-auto vs .ml-auto/.mr-auto
   -------------------------------------------------------
   Physical properties (.ml-auto, .mr-auto):
   - Always affect left/right regardless of text direction
   - Use when layout should NOT change with reading direction
   - Example: A progress bar that always fills left-to-right

   Logical properties (.ms-auto, .me-auto):
   - Adapt to the document's writing direction (dir attribute)
   - Use when layout SHOULD mirror for RTL languages
   - Example: Navigation items that should flip for Arabic/Hebrew

   TESTING RTL LAYOUTS
   -------------------
   To test RTL behavior, add dir="rtl" to the container or <html> element:

     <!-- Test a single component in RTL -->
     <nav class="d-flex" dir="rtl">
       <span>Start</span>
       <span class="ms-auto">End</span>
     </nav>

     <!-- Test entire page in RTL -->
     <html dir="rtl" lang="ar">

   ============================================================================= */

/* Margin inline-start utilities (ms-*) */
.ms-0 { margin-inline-start: 0; }
.ms-1 { margin-inline-start: 0.25rem; }
.ms-2 { margin-inline-start: 0.5rem; }
.ms-3 { margin-inline-start: 1rem; }
.ms-4 { margin-inline-start: 1.5rem; }
.ms-5 { margin-inline-start: 3rem; }
.ms-auto { margin-inline-start: auto; }

/* Margin inline-end utilities (me-*) */
.me-0 { margin-inline-end: 0; }
.me-1 { margin-inline-end: 0.25rem; }
.me-2 { margin-inline-end: 0.5rem; }
.me-3 { margin-inline-end: 1rem; }
.me-4 { margin-inline-end: 1.5rem; }
.me-5 { margin-inline-end: 3rem; }
.me-auto { margin-inline-end: auto; }

/* Padding inline-start utilities (ps-*) */
.ps-0 { padding-inline-start: 0; }
.ps-1 { padding-inline-start: 0.25rem; }
.ps-2 { padding-inline-start: 0.5rem; }
.ps-3 { padding-inline-start: 1rem; }
.ps-4 { padding-inline-start: 1.5rem; }
.ps-5 { padding-inline-start: 3rem; }

/* Padding inline-end utilities (pe-*) */
.pe-0 { padding-inline-end: 0; }
.pe-1 { padding-inline-end: 0.25rem; }
.pe-2 { padding-inline-end: 0.5rem; }
.pe-3 { padding-inline-end: 1rem; }
.pe-4 { padding-inline-end: 1.5rem; }
.pe-5 { padding-inline-end: 3rem; }

/* =============================================================================
   CSS LOGICAL PROPERTIES - BLOCK AXIS (Vertical in horizontal writing modes)
   Uses margin-block-start/end and padding-block-start/end for proper
   support of different writing modes. These properties adapt to the document's
   writing mode (horizontal-tb, vertical-rl, vertical-lr).

   - mbs-* = margin-block-start (top in horizontal-tb, right in vertical-rl)
   - mbe-* = margin-block-end (bottom in horizontal-tb, left in vertical-rl)
   - pbs-* = padding-block-start (top in horizontal-tb, right in vertical-rl)
   - pbe-* = padding-block-end (bottom in horizontal-tb, left in vertical-rl)

   MDN Documentation:
   - margin-block-start:
     https://developer.mozilla.org/en-US/docs/Web/CSS/margin-block-start
   - margin-block-end:
     https://developer.mozilla.org/en-US/docs/Web/CSS/margin-block-end
   - padding-block-start:
     https://developer.mozilla.org/en-US/docs/Web/CSS/padding-block-start
   - padding-block-end:
     https://developer.mozilla.org/en-US/docs/Web/CSS/padding-block-end

   ============================================================================= */

/* Margin block-start utilities (mbs-*) */
.mbs-0 { margin-block-start: 0; }
.mbs-1 { margin-block-start: 0.25rem; }
.mbs-2 { margin-block-start: 0.5rem; }
.mbs-3 { margin-block-start: 1rem; }
.mbs-4 { margin-block-start: 1.5rem; }
.mbs-5 { margin-block-start: 3rem; }
.mbs-auto { margin-block-start: auto; }

/* Margin block-end utilities (mbe-*) */
.mbe-0 { margin-block-end: 0; }
.mbe-1 { margin-block-end: 0.25rem; }
.mbe-2 { margin-block-end: 0.5rem; }
.mbe-3 { margin-block-end: 1rem; }
.mbe-4 { margin-block-end: 1.5rem; }
.mbe-5 { margin-block-end: 3rem; }
.mbe-auto { margin-block-end: auto; }

/* Padding block-start utilities (pbs-*) */
.pbs-0 { padding-block-start: 0; }
.pbs-1 { padding-block-start: 0.25rem; }
.pbs-2 { padding-block-start: 0.5rem; }
.pbs-3 { padding-block-start: 1rem; }
.pbs-4 { padding-block-start: 1.5rem; }
.pbs-5 { padding-block-start: 3rem; }

/* Padding block-end utilities (pbe-*) */
.pbe-0 { padding-block-end: 0; }
.pbe-1 { padding-block-end: 0.25rem; }
.pbe-2 { padding-block-end: 0.5rem; }
.pbe-3 { padding-block-end: 1rem; }
.pbe-4 { padding-block-end: 1.5rem; }
.pbe-5 { padding-block-end: 3rem; }

/* =============================================================================
   LAYOUT UTILITIES
   Classes for flexbox, grid helpers, and display properties
   ============================================================================= */

/* Display utilities */
.d-none { display: none; }
.d-block { display: block; }
.d-inline { display: inline; }
.d-inline-block { display: inline-block; }
.d-flex { display: flex; }
.d-grid { display: grid; }

/* Flexbox utilities */
.flex-row { flex-direction: row; }
.flex-column { flex-direction: column; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }

.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }

.align-start { align-items: flex-start; }
.align-end { align-items: flex-end; }
.align-center { align-items: center; }
.align-stretch { align-items: stretch; }

.flex-1 { flex: 1; }
.flex-auto { flex: auto; }
.flex-none { flex: none; }

/* Gap utilities for flex/grid */
.gap-1 { gap: 0.25rem; }
.gap-2 { gap: 0.5rem; }
.gap-3 { gap: 1rem; }
.gap-4 { gap: 1.5rem; }
.gap-5 { gap: 3rem; }

/* =============================================================================
   WIDTH/HEIGHT UTILITIES
   Classes for sizing elements
   ============================================================================= */

.w-100 { width: 100%; }
.w-auto { width: auto; }
.h-100 { height: 100%; }
.h-auto { height: auto; }

/* =============================================================================
   BORDER UTILITIES
   Classes for borders and border-radius
   ============================================================================= */

.border-0 { border: 0; }
.rounded { border-radius: 0.25rem; }
.rounded-lg { border-radius: 0.5rem; }
.rounded-full { border-radius: 9999px; }

/* =============================================================================
   VISIBILITY UTILITIES
   Classes for visibility and overflow control
   ============================================================================= */

.visible { visibility: visible; }
.invisible { visibility: hidden; }
.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }

/* =============================================================================
   NESTED ACCORDION COMPONENT
   Styles for nested accordions used in grouped orchestrations display.

   BEM Structure:
   - Block: .accordion
   - Elements: .accordion__item, .accordion__header, .accordion__icon, .accordion__content
   - Modifiers: .accordion__item--expanded

   Legacy class names maintained for backwards compatibility with existing templates.
   ============================================================================= */

/* -----------------------------------------------------------------------------
   ACCORDION BLOCK
   Container for accordion items using flex layout
   ----------------------------------------------------------------------------- */
.nested-accordion,
.accordion {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* -----------------------------------------------------------------------------
   ACCORDION ITEM ELEMENT
   Individual accordion item container
   ----------------------------------------------------------------------------- */
.nested-accordion-item,
.accordion__item {
    border: 1px solid var(--accordion-border, var(--accent, #0f3460));
    border-radius: var(--accordion-radius, 0.25rem);
    overflow: hidden;
}

/* -----------------------------------------------------------------------------
   ACCORDION HEADER ELEMENT
   Clickable header to expand/collapse content
   ----------------------------------------------------------------------------- */
.nested-accordion-header,
.accordion__header {
    align-items: center;
    background-color: var(--accordion-header-bg, var(--bg-secondary, #16213e));
    cursor: pointer;
    display: flex;
    padding: 0.75rem 1rem;
    transition: background-color 0.2s ease;
    user-select: none;
}

.nested-accordion-header:hover,
.accordion__header:hover {
    background-color: var(--accordion-header-hover, var(--accent, #0f3460));
}

/* -----------------------------------------------------------------------------
   ACCORDION ICON ELEMENT
   Collapse/expand indicator icon
   ----------------------------------------------------------------------------- */
.nested-accordion-header .collapse-icon,
.accordion__icon {
    display: inline-block;
    font-size: 0.75rem;
    margin-inline-end: 0.5rem;
    transition: transform 0.2s ease;
}

/* Icon rotation when expanded (BEM modifier) */
.nested-accordion-item.expanded .collapse-icon,
.accordion__item--expanded .accordion__icon {
    transform: rotate(90deg);
}

/* -----------------------------------------------------------------------------
   ACCORDION CONTENT ELEMENT
   Hidden by default, shown when parent item is expanded

   The content visibility is controlled via explicit state selectors rather
   than specificity wars. This approach:
   1. Uses attribute selectors [data-state] for cleaner state management
   2. Falls back to class-based selectors for backwards compatibility
   3. Maintains consistent specificity across hidden/expanded states
   ----------------------------------------------------------------------------- */

/* Default hidden state - using attribute selector for clean specificity */
.nested-accordion-content,
.accordion__content {
    background-color: var(--accordion-content-bg, var(--bg-primary, #1a1a2e));
    display: none;
    padding: 0;
}

/* Expanded state - class-based selector matching specificity of hidden state */
.nested-accordion-item.expanded .nested-accordion-content,
.accordion__item--expanded .accordion__content {
    display: block;
}

/* -----------------------------------------------------------------------------
   NESTED TABLE ELEMENT
   Table styling within accordion content

   Isolated table styles to prevent conflicts with global table rules.
   Using component-scoped selectors ensures these styles only apply within
   the accordion context, avoiding specificity issues with base.html table styles.
   ----------------------------------------------------------------------------- */
.nested-table,
.accordion__table {
    border-collapse: collapse;
    margin: 0;
    width: 100%;
}

.nested-table th,
.nested-table td,
.accordion__table th,
.accordion__table td {
    border-bottom: 1px solid var(--accordion-border, var(--accent, #0f3460));
    padding: 0.5rem 1rem;
    text-align: left;
}

.nested-table th,
.accordion__table th {
    background-color: var(--accordion-header-bg, var(--bg-secondary, #16213e));
    color: var(--text-secondary, #aaa);
    font-size: 0.85em;
    font-weight: 600;
}

.nested-table tr:last-child td,
.accordion__table tr:last-child td {
    border-bottom: none;
}

.nested-table tr:hover td,
.accordion__table tr:hover td {
    background-color: var(--accordion-hover, var(--accent-hover, rgba(15, 52, 96, 0.3)));
}

/* =============================================================================
   TOGGLE SWITCH COMPONENT
   Styles for toggle switch component used in orchestration enable/disable.

   BEM Structure:
   - Block: .toggle-switch (label container)
   - Elements: .toggle-switch__input, .toggle-switch__slider
   - Modifiers: States are handled via :checked pseudo-class

   Usage:
     <label class="toggle-switch">
       <input type="checkbox" class="toggle-switch__input">
       <span class="toggle-switch__slider"></span>
     </label>

   Color Scheme:
   - Enabled (checked): --success (#00d26a)
   - Disabled (unchecked): --text-secondary (#aaa)
   ============================================================================= */

/* Toggle switch container label */
.toggle-switch {
    cursor: pointer;
    display: inline-block;
    height: 24px;
    position: relative;
    width: 44px;
}

/* Hide the default checkbox input */
.toggle-switch__input {
    height: 0;
    opacity: 0;
    width: 0;
}

/* The slider/track element */
.toggle-switch__slider {
    background-color: var(--text-secondary, #aaa);
    border-radius: 24px;
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: background-color 0.3s ease, box-shadow 0.2s ease;
}

/* The circular knob (using ::before pseudo-element) */
.toggle-switch__slider::before {
    background-color: var(--bg-primary, #1a1a2e);
    border-radius: 50%;
    bottom: 2px;
    content: "";
    height: 20px;
    left: 2px;
    position: absolute;
    transition: transform 0.3s ease;
    width: 20px;
}

/* Checked state - slider background */
.toggle-switch__input:checked + .toggle-switch__slider {
    background-color: var(--success, #00d26a);
}

/* Checked state - move the knob to the right */
.toggle-switch__input:checked + .toggle-switch__slider::before {
    transform: translateX(20px);
}

/* Hover state - subtle glow effect */
.toggle-switch:hover .toggle-switch__slider {
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.2);
}

/* Focus state - accessibility outline */
.toggle-switch__input:focus + .toggle-switch__slider {
    box-shadow: 0 0 0 2px var(--accent, #0f3460), 0 0 0 4px rgba(15, 52, 96, 0.3);
}

/* Focus-visible state - only show focus ring for keyboard navigation */
.toggle-switch__input:focus-visible + .toggle-switch__slider {
    box-shadow: 0 0 0 2px var(--accent, #0f3460), 0 0 0 4px rgba(15, 52, 96, 0.3);
}

/* Remove focus ring for mouse clicks (if browser supports :focus-visible) */
.toggle-switch__input:focus:not(:focus-visible) + .toggle-switch__slider {
    box-shadow: none;
}

/* Disabled state */
.toggle-switch__input:disabled + .toggle-switch__slider {
    cursor: not-allowed;
    opacity: 0.5;
}

.toggle-switch__input:disabled + .toggle-switch__slider::before {
    background-color: var(--text-secondary, #aaa);
}

/* -----------------------------------------------------------------------------
   LEGACY TOGGLE SLIDER STYLES
   @deprecated - These styles are deprecated and will be removed in a future release.
   @since 2026-01-26 (deprecation added)
   @removal Planned removal: Q2 2026 (v2.0)

   Migration Guide:
   Replace legacy HTML:
     <label class="toggle-switch">
       <input type="checkbox">
       <span class="toggle-slider"></span>
     </label>

   With BEM-structured HTML:
     <label class="toggle-switch">
       <input type="checkbox" class="toggle-switch__input">
       <span class="toggle-switch__slider"></span>
     </label>

   The BEM-structured classes (.toggle-switch__input, .toggle-switch__slider) provide:
   - Better specificity control
   - Clearer component structure
   - No conflicts with generic input selectors

   TODO: Remove this section once all usages have been migrated to BEM classes.
   ----------------------------------------------------------------------------- */

/* @deprecated - Use .toggle-switch__slider instead */
.toggle-switch .toggle-slider {
    background-color: var(--text-secondary, #aaa);
    border-radius: 24px;
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: background-color 0.3s ease, box-shadow 0.2s ease;
}

/* @deprecated - Use .toggle-switch__slider::before instead */
.toggle-switch .toggle-slider::before {
    background-color: var(--bg-primary, #1a1a2e);
    border-radius: 50%;
    bottom: 2px;
    content: "";
    height: 20px;
    left: 2px;
    position: absolute;
    transition: transform 0.3s ease;
    width: 20px;
}

/* @deprecated - Use .toggle-switch__input:checked + .toggle-switch__slider instead */
.toggle-switch input:checked + .toggle-slider {
    background-color: var(--success, #00d26a);
}

/* @deprecated - Use .toggle-switch__input:checked + .toggle-switch__slider::before instead */
.toggle-switch input:checked + .toggle-slider::before {
    transform: translateX(20px);
}

/* @deprecated - Use .toggle-switch:hover .toggle-switch__slider instead */
.toggle-switch:hover .toggle-slider {
    box-shadow: 0 0 4px rgba(255, 255, 255, 0.2);
}

/* @deprecated - Use .toggle-switch__input:focus + .toggle-switch__slider instead */
.toggle-switch input:focus + .toggle-slider {
    box-shadow: 0 0 0 2px var(--accent, #0f3460), 0 0 0 4px rgba(15, 52, 96, 0.3);
}

/* @deprecated - Use .toggle-switch__input:disabled + .toggle-switch__slider instead */
.toggle-switch input:disabled + .toggle-slider {
    cursor: not-allowed;
    opacity: 0.5;
}

/* =============================================================================
   BULK TOGGLE BUTTONS
   Styles for bulk enable/disable buttons in orchestration accordion headers.

   This rule pushes the bulk toggle buttons to the right side of the flex container.
   Extracted from inline styles for better maintainability per code review feedback.
   ============================================================================= */

.bulk-toggle-buttons {
    margin-left: auto;
}

/* =============================================================================
   BADGE VARIANT STYLES
   Visual styling variants for badges based on state (e.g., active/total counts).

   Variants:
   - .badge--inactive: Muted/gray style when 0 items are active (0/5)
   - .badge--success: Success indicator (green accent) when all items are active (5/5)
   - (default): Neutral badge style when some items are active (2/5)

   These variants work in conjunction with the base .badge class defined in base.html.
   Apply these modifier classes conditionally based on the state of the data.

   Usage in Jinja2 templates:
     {% if active_count == 0 %}
       <span class="badge badge--inactive">{{ active_count }}/{{ total_count }}</span>
     {% elif active_count == total_count %}
       <span class="badge badge--success">{{ active_count }}/{{ total_count }}</span>
     {% else %}
       <span class="badge">{{ active_count }}/{{ total_count }}</span>
     {% endif %}
   ============================================================================= */

/* Inactive state - muted/gray style for 0 active items */
.badge--inactive {
    background-color: var(--bg-secondary, #16213e);
    color: var(--text-secondary, #aaa);
    opacity: 0.7;
}

/* Success state - green accent for all items active */
.badge--success {
    background-color: var(--success, #00d26a);
    color: var(--bg-primary, #1a1a2e);
}

/* =============================================================================
   STATUS BADGE COMPONENT
   Styles for execution status badges in recent executions display.

   BEM Structure:
   - Block: .status-badge
   - Modifiers: .status-success, .status-failure

   Usage:
     <span class="status-badge status-success">Success</span>
     <span class="status-badge status-failure">Failure</span>
   ============================================================================= */

.status-badge {
    display: inline-block;
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
}

.status-success {
    background-color: var(--success, #00d26a);
    color: var(--bg-primary, #1a1a2e);
}

.status-failure {
    background-color: var(--danger, #e63946);
    color: var(--text-primary, #eee);
}

/* =============================================================================
   TEXT MUTED UTILITY
   Muted text style for placeholder content (em-dash, etc.)
   ============================================================================= */

.text-muted {
    color: var(--text-secondary, #aaa);
}

/* =============================================================================
   SUMMARY ROW COMPONENT
   Styles for summary/footer rows in data tables (e.g., recent executions).

   Usage:
     <tr class="summary-row">
       <td>Summary content</td>
     </tr>

   Provides visual distinction from regular table rows with a top border
   and subtle background color change.
   ============================================================================= */

.summary-row td {
    border-top: 2px solid var(--accent, #0f3460);
    background-color: var(--bg-secondary, #16213e);
}

/* =============================================================================
   RESPONSIVE UTILITIES (Future Consideration)

   TODO: Consider adding breakpoint prefixes for responsive variants:
   - sm: (small screens, e.g., 576px+)
   - md: (medium screens, e.g., 768px+)
   - lg: (large screens, e.g., 992px+)
   - xl: (extra large screens, e.g., 1200px+)

   Example usage:
   - sm:d-flex - Display flex on small screens and up
   - md:d-none - Hide on medium screens and up
   - lg:mx-4 - Apply horizontal margin-4 on large screens and up

   This would require @media queries with the appropriate breakpoints.
   ============================================================================= */

/* =============================================================================
   ORCHESTRATION DETAIL VIEW COMPONENT
   Styles for the inline orchestration detail view with expandable rows.

   BEM Structure:
   - Block: .orchestration-detail
   - Elements: .detail-section, .detail-row, .detail-label,
               .prompt-block, .config-grid, .detail-actions
   - Modifiers: (none currently)

   Usage:
     Rendered via HTMX when clicking an orchestration row.
     Content loaded from /partials/orchestration_detail/{name}.
   ============================================================================= */

/* Container for the full detail view */
.orchestration-detail {
    background-color: var(--bg-primary, #1a1a2e);
    border-top: 1px solid var(--accordion-border, var(--accent, #0f3460));
    padding: 1rem 1.5rem;
}

/* Individual collapsible section */
.detail-section {
    border-bottom: 1px solid var(--accordion-border, var(--accent, #0f3460));
    margin-bottom: 0.75rem;
    padding-bottom: 0.75rem;
}

.detail-section:last-of-type {
    border-bottom: none;
    margin-bottom: 0;
    padding-bottom: 0;
}

.detail-section h4 {
    color: var(--text-primary, #eee);
    font-size: 0.9rem;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
}

/* Two-column key-value grid layout */
.config-grid {
    display: grid;
    gap: 0.25rem;
    grid-template-columns: 1fr;
}

/* Individual key-value row */
.detail-row {
    align-items: baseline;
    display: flex;
    gap: 0.75rem;
    padding: 0.2rem 0;
}

/* Label styling for key-value pairs */
.detail-label {
    color: var(--text-secondary, #aaa);
    flex-shrink: 0;
    font-size: 0.85em;
    min-width: 140px;
}

/* Monospace pre block for full prompt display */
.prompt-block {
    background-color: var(--bg-secondary, #16213e);
    border: 1px solid var(--accordion-border, var(--accent, #0f3460));
    border-radius: 4px;
    color: var(--text-primary, #eee);
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.85em;
    line-height: 1.5;
    margin: 0.5rem 0 0 0;
    max-height: 400px;
    overflow: auto;
    padding: 0.75rem;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/* Container for prompt label + block */
.prompt-block-container {
    margin-top: 0.5rem;
}

.prompt-block-container .detail-label {
    display: block;
    margin-bottom: 0.25rem;
}

/* Action buttons container */
.detail-actions {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    margin-top: 1rem;
    padding-top: 0.75rem;
}

/* Accent button style for Edit */
.btn-sm.btn-accent {
    background-color: var(--accent, #0f3460);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    cursor: pointer;
    font-size: 0.8rem;
    padding: 0.25rem 0.75rem;
    transition: background-color 0.2s ease, opacity 0.2s ease;
}

.btn-sm.btn-accent:hover:not(:disabled) {
    background-color: var(--accent-hover, rgba(15, 52, 96, 0.7));
}

.btn-sm.btn-accent:disabled,
.btn-sm.btn-danger:disabled {
    cursor: not-allowed;
    opacity: 0.5;
}

/* Hidden detail row within orchestration table */
.orchestration-detail-row {
    display: none;
}

.orchestration-detail-row.expanded {
    display: table-row;
}

.orchestration-detail-row td {
    padding: 0;
}

/* Clickable row indicator */
.clickable-row {
    cursor: pointer;
}

.clickable-row:hover td {
    background-color: var(--accordion-hover, var(--accent-hover, rgba(15, 52, 96, 0.3)));
}

/* =============================================================================
   ORCHESTRATION FORM COMPONENT
   Styles for the orchestration create/edit form inputs and controls.
   Extracted from inline styles for consistency and maintainability (DS-736).
   ============================================================================= */

/* Standard form input styling for text, number, and select elements */
.form-input {
    background: var(--bg-secondary, #16213e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    flex: 1;
    padding: 0.25rem;
}

/* Form input with primary background (used in nested subsections) */
.form-input--nested {
    background: var(--bg-primary, #1a1a2e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    flex: 1;
    padding: 0.25rem;
}

/* Textarea styling for multiline form fields (prompts, patterns) */
.form-textarea {
    background: var(--bg-secondary, #16213e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    flex: 1;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.85em;
    padding: 0.5rem;
    resize: vertical;
}

/* Full-width textarea variant for prompt blocks */
.form-textarea--full {
    background: var(--bg-secondary, #16213e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.85em;
    padding: 0.5rem;
    resize: vertical;
    width: 100%;
}

/* Subsection container for nested form groups (e.g., GitHub Context) */
.form-subsection {
    background: var(--bg-secondary, #16213e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    margin-top: 1rem;
    padding: 0.75rem;
}

/* Subsection heading */
.form-subsection__heading {
    color: var(--text-primary, #eee);
    font-size: 0.85rem;
    margin: 0 0 0.75rem 0;
}

/* Radio/checkbox label with right margin spacing */
.form-radio-label {
    margin-right: 1rem;
}

/* Secondary/cancel button style */
.btn-sm--secondary {
    background-color: var(--bg-secondary, #16213e);
    border: 1px solid var(--accent, #0f3460);
    border-radius: 4px;
    color: var(--text-primary, #eee);
    cursor: pointer;
    font-size: 0.8rem;
    padding: 0.25rem 0.75rem;
}

/* Outcome row grid layout */
.outcome-row {
    align-items: start;
    display: grid;
    gap: 0.5rem;
    grid-template-columns: 1fr 2fr 1fr auto;
    margin-bottom: 0.5rem;
}
